<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Test</title>
</head>

<body>
    <button id="btn1" data-onclick="btnClick" data-ondblclick="btnDouble">Click Me</button>
    <input id="input1" data-oninput="inputHandler" placeholder="Type here" />
    <input id="keyInput" data-onkeydown="keyHandler" placeholder="Press a key" />
    <input id="blurInput" data-onblur="blurHandler" placeholder="Click outside me" />

    <script type="module">
        import { EventRegistry } from "./event.js";
        const events = new EventRegistry(); // delay = 300ms
        events.init();
        events.register("click", "btnClick", () => console.log("Single click!"));
        events.register("dblclick", "btnDouble", () => console.log("Double click!"));

        events.register("input", "inputHandler", (e) => {
            console.log("Input value:", e.target.value);
        });
        events.register("keydown", "keyHandler", (e) => {
            console.log("Key pressed:", e.key);
        });
        
        events.register("blur", "blurHandler", () => console.log("Input lost focus"));

    </script>
</body>

</html>